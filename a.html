<!DOCTYPE html>
<html>
  <head>
    <title>Calendar Reminder Button</title>
    <script>
      function createCalendarEvent() {
        const title = "Your Reminder";
        const description = "This is your reminder description.";
        const startTime = new Date();
        const endTime = new Date();
        startTime.setHours(startTime.getHours() + 1);
        const event = {
          title: title,
          description: description,
          start: startTime,
          end: endTime,
        };

        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
        };

        const formattedStartTime = startTime.toLocaleDateString("en-US", options);

        if (typeof window.navigator.standalone === "undefined") {
          const isIOS = /iPad|iPhone|iPod/.test(navigator.platform);
          const isFirefox = navigator.userAgent.toLowerCase().indexOf("firefox") > -1;
          if (isIOS || isFirefox) {
            const cal = new window.MozCalenderEvent();
            const { 0: supported } = cal.checkSupported("behavior_create");
            if (supported) {
              cal.createEvent(event);
            }
          } else {
            const url = "ical://";
            const ical = "BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Example/1.0\nBEGIN:VEVENT\nSUMMARY:" + title + "\nDESCRIPTION:" + description + "\nDTSTART:" + startTime.toISOString() + "\nDTEND:" + endTime.toISOString() + "\nEND:VEVENT\nEND:VCALENDAR";

            const a = document.createElement("a");
            a.href = url;
            a.download = title + ".ics";
            a.setAttribute("href", "data:text/calendar," + encodeURIComponent(ical));
            a.click();
          }
        } else {
          const url = "https://calendar.google.com/calendar/render?action=TEMPLATE&text=" + encodeURIComponent(title) + "&details=" + encodeURIComponent(description) + "&dates=" + encodeURIComponent(startTime.toISOString()) + "/" + encodeURIComponent(endTime.toISOString());
          const a = document.createElement("a");
          a.href = url;
          a.target = "_blank";
          a.click();
        }
      }
    </script>
  </head>
  <body>
    <button onclick="createCalendarEvent()">Create Reminder</button>
  </body>
</html>